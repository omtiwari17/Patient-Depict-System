{% extends 'doctor-base.html' %} {% block doctor %}

<main class="main-content fade-in">
  <section class="section container reveal">
    <h2 class="h2">ðŸ“„ Upload Patient Report</h2>
    <form
      id="uploadForm"
      action="{% url 'upload_report' %}"
      method="post"
      enctype="multipart/form-data"
      class="card"
      style="padding: 1.4rem; border-radius: 12px"
    >
      {% csrf_token %}

      <div style="margin-bottom: 1rem">
        <label style="font-weight: 700">Select Patient</label>
        <select name="patient_id" class="input" required>
          <option value="">Choose a patient</option>
          {% for p in patients %}
            <option value="{{ p.id }}">{{ p.patient_id }} - {{ p.name }}</option>
          {% endfor %}
        </select>
      </div>

      <div style="margin-bottom: 1rem">
        <label style="font-weight: 700">Report Type</label>
        <select name="report_type" class="input" required>
          <option value="">Select report type</option>
          <option value="blood">Blood Test</option>
          <option value="xray">X-Ray</option>
          <option value="mri">MRI Scan</option>
          <option value="ct">CT Scan</option>
          <option value="ecg">ECG</option>
        </select>
      </div>

      <div style="margin-bottom: 1rem">
        <label style="font-weight: 700">Upload File</label>
        <input
        
          type="file"
          name="report_file"
          id="reportFile"
          class="input "
          accept=".pdf,.jpg,.png,.docx"
          required
        />
      </div>
      <div style="margin-bottom: 1rem">
        <label
          for="notes"
          style="
            display: block;
            margin-bottom: 0.4rem;
            font-weight: 700;
            color: #2c3e50;
          "
          >Doctorâ€™s Notes</label
        >
        <textarea
          id="notes"
          name="notes"
          rows="4"
          class="input"
          placeholder="Add any additional notes..."
          style="resize: vertical"
        ></textarea>
      </div>

      <button type="submit" class="btn btn-primary-pill">ðŸ“¤ Upload Report</button>

      <div id="uploadStatus" style="margin-top: 0.8rem"></div>
    </form>
  </section>
</main>

{% endblock %}
